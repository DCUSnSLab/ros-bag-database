[[scripts_add]]
=== Add a New Script

Note that unlike other POST requests here, this one's Content-Type is `application/json`,
not `application/x-www-form-urlencoded`.  This means that the CSRF token must be included as
a header rather than a URL-encoded parameter.

==== Example Request
include::{snippets}/scripts/save-script/http-request.adoc[]

===== Request Params
include::{snippets}/scripts/save-script/request-fields.adoc[]

==== Example Response
include::{snippets}/scripts/save-script/http-response.adoc[]

===== Response Fields
If the script was successfully saved, the contents will be echoed back.
These fields should mostly be the same as the request params, but if a new
script was added to the database, the ID will be its new ID.
include::{snippets}/scripts/save-script/response-fields.adoc[]

[[scripts_list]]
=== List Scripts

==== Example Request
include::{snippets}/scripts/list-scripts/http-request.adoc[]

==== Example Response
include::{snippets}/scripts/list-scripts/http-response.adoc[]

===== Response Fields
include::{snippets}/scripts/list-scripts/response-fields.adoc[]

[[scripts_run]]
=== Run a Script on a Set of Bag Files

==== Example Request
include::{snippets}/scripts/run-script/http-request.adoc[]

===== Request Params
include::{snippets}/scripts/run-script/request-parameters.adoc[]

==== Example Response
include::{snippets}/scripts/run-script/http-response.adoc[]

===== Response Fields
include::{snippets}/scripts/run-script/response-fields.adoc[]

[[scripts_list_results]]
=== List Script Run Results

==== Example Request
include::{snippets}/scripts/list-script-results/http-request.adoc[]

==== Example Response
include::{snippets}/scripts/list-script-results/http-response.adoc[]

===== Response Fields
include::{snippets}/scripts/list-script-results/response-fields.adoc[]

[[scripts_get_results]]
=== Get the Results of a Script Run

To retrieve the results of a single script run, provide the UUID that was generated by the call to run a script.

==== Example Request
include::{snippets}/scripts/get-script-result/http-request.adoc[]

===== Request Parameters
include::{snippets}/scripts/get-script-result/request-parameters.adoc[]

==== Example Response
include::{snippets}/scripts/get-script-result/http-response.adoc[]

===== Response Fields
include::{snippets}/scripts/get-script-result/response-fields.adoc[]